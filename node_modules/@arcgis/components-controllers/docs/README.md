# Controllers Documentation

Controllers are a powerful code-reuse pattern for Stencil. Think
of them like React hooks or Vue Composables, but for Web Components.

They also add nice features to Stencil, like reactiveUtils integration, getters,
setters, dynamic watchers, sync methods and much more to make writing Stencil Web
Components more enjoyable.

[Slides: A brief overview of the benefits of controllers](https://esriis-my.sharepoint.com/:p:/g/personal/mak13180_esri_com/ER8QY6b3MtFJshxOGqdccY4BZR53gef23Mmk0IQaNeUU5g?e=S8Hxcm)

## Contents

0. [Introduction](./0.introduction.md)

   - What are they?
   - Why are they needed?
   - How to get started?

1. [Functional controllers - simple and recommended](./1.functional.tsx)

   - Basics of controllers

2. [Class-based controllers - advanced and flexible](./2.class-based.tsx)

   - More advanced usages of controllers

3. [Powerful new features that controllers bring to Stencil](./3.stencil.tsx)

   - get/set support
   - readonly props and sync methods
   - dynamic watchers
   - and other powerful features

4. [JS API's Accessor & reactiveUtils integration](./4.accessor.tsx)

5. [Testing Controllers](./5.testing.md)

6. (optional) [Using Lit controllers in Stencil](./6.lit.tsx)

7. (optional) [Ideas for the future of Controllers](./7.future.md)

## Real world examples

See an
[example of `arcgis-home` component implemented in 3 different ways](https://devtopia.esri.com/WebGIS/arcgis-web-components/tree/maxpatiiuk/controllers-example/packages/map-components/src/components/home#readme)
(wrapping JS API widget, vanilla implementation, and using controllers).

See also some real-world Controllers:

- [load](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/support-packages/components-controllers/src/load.ts) - resolves a promise. Useful for core-adapter
- [usePropertyChange](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/support-packages/components-controllers/src/usePropertyChange.ts) - emit an event on prop change
- [useT9n](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/support-packages/components-controllers/src/useT9n.ts) - loads translation strings & watches for language change
- [useAccessor](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/support-packages/components-controllers/src/usePropertyChange.ts) - do two-way binding between component's props and some Accessor class
- [useViewModel](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/map-components/src/controllers/useViewModel.ts) - integrates mapping components with JS API's viewModels
- [useWidget](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/map-components/src/controllers/useWidget.tsx) - wraps JS API widget in a Stencil component
- [useHandles](https://devtopia.esri.com/WebGIS/arcgis-web-components/blob/main/packages/support-packages/components-controllers/src/useHandles.ts) - add accessor-style handles (cleanup functions to be called on disconnect/destroy)

## Support

Have feedback, questions or need help? [Make a post in this GitHub Discussion](https://devtopia.esri.com/WebGIS/arcgis-web-components/discussions/711).

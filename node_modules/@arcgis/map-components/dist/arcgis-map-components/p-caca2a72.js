/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.7
 */
import{p as s,A as t,a as i}from"./p-cb05bd10.js";import"./p-15a5fd04.js";import{a as h}from"./p-784b518c.js";import{m as e}from"./p-50167736.js";import{a as o}from"./p-3f4a1f2c.js";const a=s=>(t,i)=>r(t,s,i),r=s(class extends t{hostConnected(){this.component.manager.didLoadCalled&&h(this.component)}async hostLoad(){await super.hostLoad(),this.component.manager.destroyed||(this._watchMetaProperties(),i.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"viewModel"))}hostLoaded(){const{el:s}=this.component;s.childElem=s.shadowRoot?.firstElementChild??s.firstElementChild??void 0??s.childElem;let t=!1;const i=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:s=>{this._instance.view=s,this._watchViewDestroy(),this.component.requestUpdate(),t||(t=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(this._instance.view=i),this.component.el.isConnected&&(h(this.component),this._watchViewDestroy())}hostDisconnected(){"object"==typeof this.component.el.childElem&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){this.watch("position",(s=>{null!=this.component.el.childElem&&"string"==typeof s&&h(this.component)})),this.watch("referenceElement",(()=>h(this.component)))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when((()=>!0===this.component.el.view?.destroyed),(()=>{this.component.destroy().catch(console.error)}),{sync:!0})}}),c=e(o);export{a as m,c as u}
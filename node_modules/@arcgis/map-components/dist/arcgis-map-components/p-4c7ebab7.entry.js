/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.7
 */
import{r as t,c as s,g as i}from"./p-3f4a1f2c.js";import{z as o,A as h}from"./p-15a5fd04.js";import{b as r}from"./p-784b518c.js";import{u as e}from"./p-50167736.js";import{u as a}from"./p-cb05bd10.js";import{m as n}from"./p-a6f3ebd8.js";const c=n(h),m="map-components:arcgis-directions",d=class{constructor(i){t(this,i),this.arcgisReady=s(this,"arcgisReady",7),this.arcgisPropertyChange=s(this,"arcgisPropertyChange",7),this.manager=a(this),this.widget=c(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=e()("lastRoute","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.apiKey=this.widget.apiKey,this.icon=this.widget.icon,this.label=this.widget.label,this.routeLayerItemId=this.manager.getSet(void 0,{set:t=>(r(t)?(this.widget.view?.map.remove(this.layer),this._setDefaultLayer()):t&&this.widget&&o({portalItem:{id:t}}).then((t=>{this.layer=t})).catch(console.error),t)}),this.lastRoute=this.widget.lastRoute,this.layer=this.widget.layer,this.headingLevel=this.widget.headingLevel,this.maxStops=this.widget.maxStops,this.searchProperties=this.widget.searchProperties,this.unit=this.widget.unit,this.useDefaultRouteLayer=this.manager.getSet(!1,{set:t=>(this._setDefaultLayer(),t)}),this.hideLayerDetails=this.widget.visibleElements.layerDetails,this.hideSaveAsButton=this.widget.visibleElements.saveAsButton,this.hideSaveButton=this.widget.visibleElements.saveButton,this.position="bottom-left",this.state=this.viewModel.state}_setDefaultLayer(){this.useDefaultRouteLayer&&o({}).then((t=>{this.layer=t})).catch(console.error)}async destroy(){await this.manager.destroy()}async getDirections(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${m} - component not ready to get directions`);return await(this.widget?.getDirections())}async save(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${m} - component not ready to save directions`);return await(this.widget?.save())}async saveAs(t,s){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${m} - component not ready to save directions as a Portal Item`);return await(this.widget?.saveAs(t,s))}async zoomToRoute(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${m} - component not ready to zoom to route`);this.widget?.zoomToRoute()}get el(){return i(this)}};d.style="";export{d as arcgis_directions}
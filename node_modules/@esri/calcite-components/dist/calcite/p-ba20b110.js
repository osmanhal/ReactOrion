/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */
import{t}from"./p-675edf63.js";import{e as n,i as e}from"./p-5572ebc3.js";const o=new Date;const s=o.toISOString();const r=365;const c=r;const a={groupDateRange:c,startDate:s};const l=(t,n,e)=>{const o=[];let s=e.create(t);for(let t=0;t<=n;t++){s=e.increase(s);o.push(e.formatToIsoDateString(s))}return o};const i=(t,o,s,r)=>{const c=new Map;const a=l(o,s,r);return t.map((t=>{const{label:o}=t;const s=n(o);const l=a.map((t=>{const n=`${t}-${o}`;let e=c.get(n);if(e){return e}e=r.isoToTimeZone(t,o);c.set(n,e);return e}));return{...t,continent:s,isRegularContinent:e(s),dates:l}}))};const u=(t,n,e)=>t.length===n.length&&t.every(((t,o)=>e.same(t,n[o])));const f=(t,o=5)=>{const s=t.filter((({label:t})=>e(n(t))));if(s.length===0){return[0]}const r=s.map((n=>t.indexOf(n)));return b(r,o)};function b(t,n=5){const e=t.length;if(e<=n){return t}const o=Math.min(e-2,n-2);const s=(e-1)/(o+1);return[t[0],...Array.from({length:o},((n,e)=>t[Math.round((e+1)*s)])),t[e-1]]}async function d(n){const{groupDateRange:e,startDate:o,dateEngine:s}={...a,...n};const r=[];if(!s){throw new Error("dateEngine is required")}const c=t.map((t=>({label:t})));const l=i(c,o,e,s);for(const t of l){const{label:n,continent:e,dates:o}=t;if(t.visited){continue}t.visited=true;const c={labelIdx:[],tzs:[{label:n}]};for(const t of l.filter((t=>!t.visited))){const{label:n,continent:r,isRegularContinent:a,dates:l}=t;if((e===r||!a)&&u(o,l,s)){const e={label:n};c.tzs.push(e);t.visited=true}}r.push(c)}return r.map((t=>{t.tzs=t.tzs.sort(((t,n)=>t.label.localeCompare(n.label)));return{labelTzIdx:f(t.tzs,7),tzs:t.tzs.map((t=>t.label))}})).sort(((t,n)=>n.tzs.length-t.tzs.length))}export{d as groupByOffset};
//# sourceMappingURL=p-ba20b110.js.map
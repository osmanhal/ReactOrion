/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */
import{r as e,c as t,h as i,g as s}from"./p-34031586.js";import{f as a}from"./p-a484ac31.js";import{c as n,u as r,d as o,I as c}from"./p-f957f5ec.js";import{s as l,a as d,c as h}from"./p-2510cb99.js";import{c as p,d as f}from"./p-d00edf9c.js";import{u as m,s as u,c as b,d as g}from"./p-17137995.js";import{D as y}from"./p-d1c75df5.js";import{d as v}from"./p-adaaab6b.js";import"./p-6a8e5f8b.js";import"./p-c69058a4.js";import"./p-e13f2b2b.js";import"./p-d5e2aa4c.js";import"./p-9c3000ad.js";const x={container:"container",searchIcon:"search-icon"};const j={search:"search",close:"x"};const k=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}";const w=k;const z=class{constructor(i){e(this,i);this.calciteFilterChange=t(this,"calciteFilterChange",6);this.filterDebounced=v(((e,t=false,i)=>this.items.length&&this.updateFiltered(a(this.items,e,this.filterProps),t,i)),y.filter);this.inputHandler=e=>{const t=e.target;this.value=t.value;this.filterDebounced(t.value,true)};this.keyDownHandler=e=>{if(e.defaultPrevented){return}if(e.key==="Escape"){this.clear();e.preventDefault()}if(e.key==="Enter"){e.preventDefault()}};this.clear=()=>{this.value="";this.filterDebounced("",true);this.setFocus()};this.items=[];this.disabled=false;this.filteredItems=[];this.filterProps=undefined;this.placeholder=undefined;this.scale="m";this.value="";this.messages=undefined;this.messageOverrides=undefined;this.effectiveLocale=undefined;this.defaultMessages=undefined}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(e){this.filterDebounced(e)}effectiveLocaleChange(){m(this,this.effectiveLocale)}async componentWillLoad(){l(this);if(this.items.length){this.updateFiltered(a(this.items,this.value,this.filterProps))}await u(this)}connectedCallback(){n(this);p(this);b(this)}componentDidRender(){r(this)}disconnectedCallback(){o(this);f(this);g(this);this.filterDebounced.cancel()}componentDidLoad(){d(this)}async filter(e=this.value){return new Promise((t=>{this.value=e;this.filterDebounced(e,false,t)}))}async setFocus(){await h(this);return this.textInput?.setFocus()}updateFiltered(e,t=false,i){this.filteredItems=e;if(t){this.calciteFilterChange.emit()}i?.()}render(){const{disabled:e,scale:t}=this;return i(c,{key:"da4ff667fdb02ae8b85c56cd717b416f3256145d",disabled:e},i("div",{key:"f4406a403101afa7c97da11f8408fa464aa8a08c",class:x.container},i("label",{key:"aace74138ebea71058044e05d4fe44cb7ee6beb2"},i("calcite-input",{key:"cc7dca3364cc73bf42a78d76155477af98d72552",clearable:true,disabled:e,icon:j.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:e=>{this.textInput=e},scale:t,type:"text",value:this.value}))))}static get delegatesFocus(){return true}static get assetsDirs(){return["assets"]}get el(){return s(this)}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}};z.style=w;export{z as calcite_filter};
//# sourceMappingURL=p-3db42c2b.entry.js.map
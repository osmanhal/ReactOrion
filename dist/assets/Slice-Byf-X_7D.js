function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/calcite-action-nUAFESCb.js","assets/action-W5AlSpJC.js","assets/index-BfC8i6jT.js","assets/index-CKzvfSE0.css","assets/dom-Bb9h_pls.js","assets/interactive-DP0XaYPR.js","assets/loadable-QAoPxwWP.js","assets/locale-CiqLNmAk.js","assets/key-DuBxtzvS.js","assets/observers-BDfujgVA.js","assets/component-CVleUxfT.js","assets/t9n-BUWevPjH.js","assets/icon-BWRRlyjd.js","assets/loader-DI4JVeCP.js","assets/calcite-button-CtsLJU0N.js","assets/button-Ds3IAz_z.js","assets/form-CZfgqAxW.js","assets/label-NjdjENzu.js","assets/calcite-list-item-Cpm4rMAS.js","assets/utils3-B08RV_oB.js","assets/resources4-VzuD1qlP.js","assets/handle-nlmkhwGe.js","assets/calcite-list-D-WpqrBC.js","assets/filter-Bhg806Ig.js","assets/debounce-BE9q2DI6.js","assets/input2-D7j5EHhc.js","assets/Validation-B3Y-COKw.js","assets/input-CM-Sufcv.js","assets/input-message-sNs3yQQx.js","assets/progress-BnUvB3t-.js","assets/scrim-CG0P7lnL.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{v as t,y as l,dh as f,z as b,bL as g,dj as E,gk as $,gl as k,c7 as V,gm as G,_ as x,bP as i,bR as m}from"./index-BfC8i6jT.js";import{c as I}from"./Analysis-B2gEupWI.js";import{h as A}from"./SlicePlane-DkkD6GW9.js";import{_ as T}from"./AnalysisViewModel-CWUiQz4q.js";import{e as B}from"./Heading-DgRsy-7b.js";import"./persistable-D1kMTcLV.js";import"./multiOriginJSONSupportUtils-C0wm8_Yw.js";import"./resourceExtension-btAfE1S2.js";let c=class extends I{constructor(s){super(s),this.type="slice",this.tiltEnabled=!1,this.shape=null,this.excludeGroundSurface=!1}get excludedLayers(){return this._get("excludedLayers")||new g}set excludedLayers(s){this._set("excludedLayers",E(s,this._get("excludedLayers")))}get requiredPropertiesForEditing(){var s;return[(s=this.shape)==null?void 0:s.position]}clear(){this.shape=null}};t([l({type:["slice"]})],c.prototype,"type",void 0),t([l()],c.prototype,"tiltEnabled",void 0),t([l({types:{key:"type",base:null,typeMap:{plane:A},defaultKeyValue:"plane"}})],c.prototype,"shape",void 0),t([l({cast:f,clonable:e=>e.slice()})],c.prototype,"excludedLayers",null),t([l({type:Boolean,nonNullable:!0})],c.prototype,"excludeGroundSurface",void 0),t([l({readOnly:!0})],c.prototype,"requiredPropertiesForEditing",null),c=t([b("esri.analysis.SliceAnalysis")],c);const M=c,L=new Set;let d=class extends T{constructor(e){super(e),this.analysis=null,this.supportedViewType="3d",this.unsupportedErrorMessage="SliceViewModel is only supported in 3D views.",L.add(this)}destroy(){L.delete(this)}get state(){return this.disabled||!this.ready?"disabled":this.tool==null?"ready":this.tool.state}get shape(){return this.analysis.shape}set shape(e){this.analysis.shape=e}get tiltEnabled(){return this.analysis.tiltEnabled}set tiltEnabled(e){this.analysis.tiltEnabled=e}get layersMode(){var e;return((e=this.tool)==null?void 0:e.layersMode)??"none"}get excludedLayers(){return this.analysis.excludedLayers}set excludedLayers(e){this.analysis.excludedLayers=g.isCollection(e)?e:new g(e)}get excludeGroundSurface(){return this.analysis.excludeGroundSurface}set excludeGroundSurface(e){this.analysis.excludeGroundSurface=e}async start(){await super.start(),L.forEach(e=>{e.view===this.view&&e!==this&&e.clear()}),this.analysisView!=null&&(this.analysisView.active=!0)}enterExcludeLayerMode(){this.tool!=null&&this.tool.enterExcludeLayerMode()}exitExcludeLayerMode(){this.tool!=null&&this.tool.exitExcludeLayerMode()}onConnectToAnalysisView(e){e.active=!0}constructAnalysis(){return new M}};t([l({type:M})],d.prototype,"analysis",void 0),t([l({readOnly:!0})],d.prototype,"state",null),t([l()],d.prototype,"shape",null),t([l()],d.prototype,"tiltEnabled",null),t([l()],d.prototype,"layersMode",null),t([l()],d.prototype,"excludedLayers",null),t([l({nonNullable:!0})],d.prototype,"excludeGroundSurface",null),d=t([b("esri.widgets.Slice.SliceViewModel")],d);const S=d,n="esri-slice",a={base:n,actions:`${n}__actions`,cancelButton:`${n}__cancel-button`,container:`${n}__container`,error:`${n}__error`,excludeButton:`${n}__exclude-button`,hint:`${n}__hint`,hintText:`${n}__hint-text`,layerItem:`${n}__layer-item`,layerList:`${n}__layer-list`,layerListHeading:`${n}__layer-list-title`,newSliceButton:`${n}__clear-button`};let r=class extends k{constructor(e,s){super(e,s),this.headingLevel=3,this.messages=null,this.viewModel=new S,this._onNewSliceClick=()=>{V(this.viewModel.start())}}loadDependencies(){return G({action:()=>x(()=>import("./calcite-action-nUAFESCb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),button:()=>x(()=>import("./calcite-button-CtsLJU0N.js"),__vite__mapDeps([14,15,2,3,16,4,5,17,10,6,7,8,9,11,12,13])),"list-item":()=>x(()=>import("./calcite-list-item-Cpm4rMAS.js"),__vite__mapDeps([18,2,3,4,5,7,8,9,11,6,19,20,1,10,12,13,21])),list:()=>x(()=>import("./calcite-list-D-WpqrBC.js"),__vite__mapDeps([22,2,3,4,5,9,20,19,6,11,7,8,23,24,12,25,16,17,10,26,27,28,29,13,30]))})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get excludedLayers(){return this.viewModel.excludedLayers}set excludedLayers(e){this.viewModel.excludedLayers=e}get excludeGroundSurface(){return this.viewModel.excludeGroundSurface}set excludeGroundSurface(e){this.viewModel.excludeGroundSurface=e}get icon(){return"slice"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get hasVoxelLayers(){var s;const e=(s=this.viewModel)==null?void 0:s.view;return e!=null&&e.allLayerViews.some(u=>u.type==="voxel-3d")}render(){return i("div",{class:this.classes(a.base,m.widget,m.panel),role:"presentation"},this.visible?i("div",{class:a.container},this.viewModel.supported?[this._renderHint(),this._renderLayerList(),this._renderActions()]:this._renderUnsupported()):null)}_renderUnsupported(){return i("div",{class:a.error,key:"unsupported"},i("p",null,this.messages.unsupported))}_renderHint(){const{hasVoxelLayers:e,messages:s,viewModel:u}=this,{active:y,layersMode:p,state:v}=u;let o=null;return y&&(p==="exclude"?o=s.excludeHint:v==="ready"&&(o=e?s.voxelHint:s.hint)),o?i("div",{class:a.hint,key:"hint"},i("p",{class:a.hintText},o),i("p",{class:a.hintText},s.verticalHint)):null}_renderLayerList(){const{excludedLayers:e,excludeGroundSurface:s,headingLevel:u,messages:y,viewModel:p}=this,{layersMode:v,state:o}=p,h=o==="slicing"||o==="sliced",_=e?e.toArray().map(w=>this._renderLayerItem({uid:w.uid,title:w.title,onClick:()=>(this.excludedLayers.remove(w),!1)})):[];return s&&_.push(this._renderLayerItem({uid:"ground",title:y.ground,onClick:()=>(this.excludeGroundSurface=!1,!1)})),v!=="exclude"&&h&&_.length!==0?i("div",{class:a.layerList,key:"settings"},i(B,{class:a.layerListHeading,level:u},y.excludedLayers),i("calcite-list",{selectionMode:"none"},_)):null}_renderActions(){const{messages:e,viewModel:s}=this,{active:u,state:y}=s,p=y==="disabled",v=y==="slicing"||y==="sliced",o=s.layersMode==="exclude",h=[];return u&&!v||o||h.push(i("calcite-button",{class:a.newSliceButton,disabled:p,key:"new-slice",onclick:this._onNewSliceClick},e.newSlice)),v&&!o&&h.push(i("calcite-button",{appearance:"outline-fill",class:a.excludeButton,disabled:p,key:"exclude",onclick:()=>s.enterExcludeLayerMode()},e.excludeLayer)),u&&o&&h.push(i("calcite-button",{appearance:"outline-fill",class:a.cancelButton,disabled:p,key:"cancel-exclude",onclick:()=>s.exitExcludeLayerMode()},e.cancel)),h.length===0?null:i("div",{class:a.actions},h)}_renderLayerItem(e){const s=this.messages.includeLayer;return i("calcite-list-item",{class:a.layerItem,key:e.uid,label:e.title??""},i("calcite-action",{icon:"x",onclick:e.onClick,scale:"s",slot:"actions-end",text:s,title:s}))}};t([l()],r.prototype,"active",null),t([l({constructOnly:!0,nonNullable:!0})],r.prototype,"analysis",null),t([l()],r.prototype,"excludedLayers",null),t([l()],r.prototype,"excludeGroundSurface",null),t([l()],r.prototype,"headingLevel",void 0),t([l()],r.prototype,"icon",null),t([l()],r.prototype,"label",null),t([l(),$("esri/widgets/Slice/t9n/Slice")],r.prototype,"messages",void 0),t([l()],r.prototype,"view",null),t([l({type:S})],r.prototype,"viewModel",void 0),t([l()],r.prototype,"visible",null),t([l()],r.prototype,"hasVoxelLayers",null),r=t([b("esri.widgets.Slice")],r);const U=r;export{U as default};

import{l as v}from"./quantityUtils-B2xRWNSM.js";import{iK as R,ep as a,fs as g,f_ as U,fC as j}from"./index-BfC8i6jT.js";import{i as x}from"./earcut-BrWrA6nz.js";import{n as y}from"./projectVectorToVector-C51LtB8f.js";import{b as F,v as K,F as W,K as b}from"./plane-ByuX_NXR.js";import{S as k}from"./triangle-B-TmEFJd.js";import{l as w}from"./euclideanLengthMeasurementUtils-D2ZslYzK.js";function J(t,e=d()){return $(t,e)}function L(t,e=d()){return $(t,e,!1)}function $(t,e,f=t.hasZ){const s=w(t.spatialReference),i=R(s);if(i==null)return null;const C=(l,r)=>!(r.length<2)&&(g(l,r[0],r[1],f&&r[2]||0),!0);let m=0;for(const l of t.rings){const r=l.length;if(r<3)continue;const{positionsWorldCoords:o}=e;for(;o.length<r;)o.push(a());const p=A,u=g(S,0,0,0),q=1/r;for(let n=0;n<r;n++){if(!C(p,l[n])||!y(p,t.spatialReference,o[n],s))return null;U(u,u,o[n],q)}const h=F(o[0],o[1],u,K());if(j(W(h))===0)continue;for(let n=0;n<r;n++)b(h,u,o[n],o[n]);const c=Z(o);for(let n=0;n<c.length;n+=3)m+=k(o[c[n]],o[c[n+1]],o[c[n+2]])}return v(m,i)}const A=a(),S=a();function d(){return{positionsWorldCoords:[]}}function Z(t){return x(_(t),[],2)}function _(t){const e=new Float64Array(2*t.length);for(let f=0;f<t.length;++f){const s=t[f],i=2*f;e[i]=s[0],e[i+1]=s[1]}return e}export{d as U,J as g,L as j,Z as k};

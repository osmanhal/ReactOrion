import{gz as n,gA as a,f0 as l,aM as d,jq as g,ba as s,d3 as m,cY as h}from"./index-BfC8i6jT.js";import{t as u}from"./ElevationProfile-Y-g8Fldy.js";import{a as _}from"./HoveredPoints-BOfWXUR0.js";import{n as v}from"./layerViewUtils-D2JqIDZ8.js";import"./memoize-DsJmrG76.js";import"./ByteSizeUnit-BsxeN7wM.js";import"./ElevationQueryTileCache-BEPYiqMG.js";import"./projectVectorToVector-C51LtB8f.js";import"./projectPointToVector-C0Qwzs7z.js";import"./LayerConstants-B33OP6sh.js";import"./Material-CL7oq3ds.js";import"./interfaces-B8ge7Jg9.js";import"./basicInterfaces-wONHx_SN.js";import"./VertexAttribute-BnAa5VW0.js";import"./ElevationProvider-BU9L4pxM.js";import"./sphere-BgvJtIjV.js";import"./plane-ByuX_NXR.js";import"./mathUtils-DIiwy5h7.js";import"./boundedPlane-xSVxcV1_.js";import"./lineSegment-DbTVMGoh.js";import"./verticalOffsetUtils-Bdqba6xa.js";import"./orientedBoundingBox-Do1Vt1ct.js";import"./spatialReferenceEllipsoidUtils-6vOoKuZD.js";import"./computeTranslationToOriginAndRotation-DK7GzGeb.js";import"./Intersector-Dzvq-gms.js";import"./Intersector-juYjkWfX.js";import"./defaultUnit-BEK94Aud.js";import"./getDefaultUnitForView-Dts4f_W1.js";import"./throttle-jjSnxk80.js";import"./elevationInfoUtils-Dkzy2V0O.js";import"./geodesicUtils-BOUsTR0r.js";import"./Scheduler-DSoCN6Hr.js";import"./debugFlags-CX6JgPmI.js";import"./traversalUtils-DmE6QkgJ.js";import"./ElevationQuery-D5DIhn2-.js";import"./ElevationSamplerData-k1b1ey21.js";import"./ElevationTile-nLRXAw2j.js";import"./GraphicsLayer-B2JC83UW.js";import"./SketchViewModel-UarWXg2i.js";import"./isSupportedObject-Osl_dfQr.js";import"./SketchLabelOptions-BGcukdKj.js";import"./SnappingManager-D5q8LYBJ.js";import"./geometry2dUtils-DBhp7z2_.js";import"./floorFilterUtils-DZ5C6FQv.js";import"./keybindings-yv7BPnkG.js";import"./geodesicLengthMeasurementUtils-Dk04A7GV.js";import"./quantityUtils-B2xRWNSM.js";import"./geometryEngine-s82Uc-OG.js";import"./geometryEngineBase-hNmXf8AX.js";import"./hydrated-CC1UoCrK.js";import"./layerUtils-BS1Di3Pm.js";import"./hitTestSelectUtils-UXJPjatw.js";import"./unitFormatUtils-BLmxKBrJ.js";import"./UnitSelect-VjCIVazS.js";import"./AnchorElementViewModel-tQc9zrpA.js";class c{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=n(this._highlightTask),this._highlightHandle=a(this._highlightHandle)}update(t){if(this.remove(),t==null||!w(t))return;const o=t.layer;this._highlightTask=l(async i=>{const e=await this._params.view.whenLayerView(o);d(i);const p=v(e)?e:null;p&&(this._highlightHandle=p.highlight(t))})}}function w(r){return r.geometry!=null&&r.geometry.type==="polyline"}class ft{constructor(t,o){this._handles=new g,this._inputRepresentation=new c({view:t}),this._hoveredPoints=new _({view:t}),this._handles.add([s(()=>o.viewModel.hoveredPoints,i=>this._hoveredPoints.update(i),m),s(()=>{const{state:i,highlightEnabled:e,viewModel:p}=o;return{input:p.input,state:i,highlightEnabled:e}},i=>this._updateInputRepresentation(i),m)])}destroy(){this._handles=h(this._handles),this._inputRepresentation=h(this._inputRepresentation),this._hoveredPoints=h(this._hoveredPoints)}_updateInputRepresentation({input:t,state:o,highlightEnabled:i}){o===u.Selected&&i?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{ft as ElevationProfileView2D};

function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index2-BTa_IVQR.js","assets/time-zones-CGWvwbSX.js","assets/index3-DyK90uxz.js","assets/continent-DquOHSdg.js","assets/index4-CZGAtw5F.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d_ as P,d$ as w,e6 as h,e2 as d,e5 as M,_ as p}from"./index-BfC8i6jT.js";import{c as F,d as k}from"./label-NjdjENzu.js";import{u as V,I as B}from"./interactive-DP0XaYPR.js";import{c as R,d as z,b as $}from"./locale-CiqLNmAk.js";import{u as A,c as U,d as H,s as W}from"./t9n-BUWevPjH.js";import{c as G,s as q,a as j}from"./loadable-QAoPxwWP.js";import{c as K,d as J,a as Q,H as X}from"./form-CZfgqAxW.js";import{d as Y}from"./chip-D5D8cU_q.js";import{d as N}from"./combobox-D3WCOoEl.js";import{d as ee}from"./combobox-item-Dq1z_vY8.js";import{d as te}from"./combobox-item-group-CJPee2oa.js";import{d as oe}from"./icon-BWRRlyjd.js";import{d as se}from"./input-message-sNs3yQQx.js";import"./dom-Bb9h_pls.js";import"./component-CVleUxfT.js";import"./key-DuBxtzvS.js";import"./observers-BDfujgVA.js";import"./core-CdeYjUZX.js";import"./filter-Bhg806Ig.js";import"./debounce-BE9q2DI6.js";import"./floating-ui-Bi24_oLL.js";import"./openCloseComponent-C9eX_zZX.js";import"./Validation-B3Y-COKw.js";import"./utils2-DQUDM5_r.js";import"./conditionalSlot-bqgZ4YTq.js";const ie={offset:"offset"},ne=60,y=["CET","CST6CDT","EET","EST","EST5EDT","Factory","HST","MET","MST","MST7MDT","PST8PDT","UTC","WET"];function T(t){return t.replace(":15",".25").replace(":30",".5").replace(":45",".75").replace("âˆ’","-")}function ae(t,e){const o=C(t,"en-US",e).replace("GMT","");return o===""?0:Number(T(o))*ne}function le(){return new Date().getTimezoneOffset()*-1}function ce(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}async function re(t,e,o,s,l){if(o==="name"){const{groupByName:i}=await p(()=>import("./index2-BTa_IVQR.js"),__vite__mapDeps([0,1]));return(await i()).map(({label:a})=>({label:g(a),value:a,filterValue:a})).filter(a=>!!a).sort()}const r=l==="user"?t:l==="utc"?"fr":"en-GB",u=s.getTime();if(o==="region"){const[{groupByRegion:i},{getCountry:c}]=await Promise.all([p(()=>import("./index3-DyK90uxz.js"),__vite__mapDeps([2,1,3])),p(()=>import("./country-Dv6bFpj0.js"),__vite__mapDeps([]))]);return(await i()).map(({label:n,tzs:m})=>({label:n,items:m.map(f=>{const Z=T(C(f,r,u));return{label:x(f,e),value:f,filterValue:g(f),metadata:{offset:Z,country:c(f)}}})})).sort((n,m)=>n.label.localeCompare(m.label))}const[{groupByOffset:D},{DateEngine:_}]=await Promise.all([p(()=>import("./index4-CZGAtw5F.js"),__vite__mapDeps([4,1,3])),p(()=>import("./index5-BQePbIF-.js"),__vite__mapDeps([]))]),v=await D({dateEngine:new _,groupDateRange:1,startDate:new Date(u).toISOString()}),S=new Intl.ListFormat(t,{style:"long",type:"conjunction"});return v.forEach(i=>{const c=[];let a=0;i.tzs.forEach((n,m)=>{y.includes(n)&&a++,c[m]=a}),i.tzs=i.tzs.filter(n=>!y.includes(n)),i.labelTzIdx=i.labelTzIdx.map(n=>n-c[n]).filter(n=>n>=0&&n<i.tzs.length)}),v.map(({labelTzIdx:i,tzs:c})=>{const a=c[0],n=T(C(a,r,u)),m=ae(a,u),f=i.map(b=>x(c[b],e));return{label:fe(e,n,S.format(f)),value:m,filterValue:c.map(b=>g(b))}}).filter(i=>!!i).sort((i,c)=>i.value-c.value)}function x(t,e){return e[t]||de(t)}function me(t,e,o){return o.timeZoneRegionLabel.replace("{city}",t).replace("{country}",I(o,e))}function I(t,e){return t[e]||e}function de(t){return t.split("/").pop()}function g(t){return t.replace(/_/g," ")}function fe(t,e,o){return t.timeZoneLabel.replace("{offset}",e).replace("{cities}",o)}function C(t,e,o=Date.now()){return $(e,{timeZone:t,timeZoneName:"shortOffset"}).formatToParts(o).find(({type:r})=>r==="timeZoneName").value}function ue(t){return t.items!==void 0}function he(t){return ue(t[0])?t.flatMap(e=>e.items):t}function E(t,e,o){return o==null?null:he(t).find(s=>s[e]==o)}const pe=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}.offset{white-space:nowrap}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",be=pe,L=P(class extends w{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputTimeZoneBeforeClose=h(this,"calciteInputTimeZoneBeforeClose",6),this.calciteInputTimeZoneBeforeOpen=h(this,"calciteInputTimeZoneBeforeOpen",6),this.calciteInputTimeZoneChange=h(this,"calciteInputTimeZoneChange",6),this.calciteInputTimeZoneClose=h(this,"calciteInputTimeZoneClose",6),this.calciteInputTimeZoneOpen=h(this,"calciteInputTimeZoneOpen",6),this.setComboboxRef=e=>{this.comboboxEl=e},this.onComboboxBeforeClose=e=>{e.stopPropagation(),this.overrideSelectedLabelForRegion(!1),this.calciteInputTimeZoneBeforeClose.emit()},this.onComboboxBeforeOpen=e=>{e.stopPropagation(),this.overrideSelectedLabelForRegion(!0),this.calciteInputTimeZoneBeforeOpen.emit()},this.onComboboxChange=e=>{e.stopPropagation();const s=e.target.selectedItems[0];if(!s){this.value=null,this.selectedTimeZoneItem=null,this.calciteInputTimeZoneChange.emit();return}const l=this.findTimeZoneItemByLabel(s.textLabel),r=`${l.value}`;this.value===r&&l.label===this.selectedTimeZoneItem.label||(this.value=r,this.selectedTimeZoneItem=l,this.calciteInputTimeZoneChange.emit())},this.onComboboxClose=e=>{e.stopPropagation(),this.open=!1,this.calciteInputTimeZoneClose.emit()},this.onComboboxOpen=e=>{this.open=!0,e.stopPropagation(),this.calciteInputTimeZoneOpen.emit()},this.clearable=!1,this.disabled=!1,this.form=void 0,this.maxItems=0,this.messages=void 0,this.messageOverrides=void 0,this.mode="offset",this.offsetStyle="user",this.validationMessage=void 0,this.validationIcon=void 0,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.name=void 0,this.open=!1,this.overlayPositioning="absolute",this.referenceDate=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=void 0,this.readOnly=!1,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}handleTimeZoneItemPropsChange(){this.updateTimeZoneItemsAndSelection()}handleValueChange(e,o){if(e=this.normalizeValue(e),!e&&this.clearable){this.value=e,this.selectedTimeZoneItem=null;return}const s=this.findTimeZoneItem(e);if(!s){this.value=o;return}this.selectedTimeZoneItem=s}async setFocus(){await G(this),await this.comboboxEl.setFocus()}effectiveLocaleWatcher(){A(this,this.effectiveLocale)}onLabelClick(){this.setFocus()}overrideSelectedLabelForRegion(e){if(this.mode!=="region"||!this.selectedTimeZoneItem)return;const{label:o,metadata:s}=this.selectedTimeZoneItem;this.comboboxEl.selectedItems[0].textLabel=e?o:me(o,s.country,this.messages)}findTimeZoneItem(e){return E(this.timeZoneItems,"value",e)}findTimeZoneItemByLabel(e){return E(this.timeZoneItems,"label",e)}async updateTimeZoneItemsAndSelection(){if(this.timeZoneItems=await this.createTimeZoneItems(),this.value===""&&this.clearable){this.selectedTimeZoneItem=null;return}const e=this.mode==="offset"?le():ce(),o=this.value??e;this.selectedTimeZoneItem=this.findTimeZoneItem(o)||this.findTimeZoneItem(e)}async createTimeZoneItems(){return!this.effectiveLocale||!this.messages?[]:re(this.effectiveLocale,this.messages,this.mode,this.referenceDate instanceof Date?this.referenceDate:new Date(this.referenceDate??Date.now()),this.offsetStyle)}connectedCallback(){K(this),F(this),R(this),U(this)}disconnectedCallback(){J(this),k(this),z(this),H(this)}normalizeValue(e){return e===null?"":e}async componentWillLoad(){q(this),await W(this),this.value=this.normalizeValue(this.value),await this.updateTimeZoneItemsAndSelection();const e=this.selectedTimeZoneItem?`${this.selectedTimeZoneItem.value}`:null;Q(this,e),this.value=e}componentDidLoad(){j(this),this.overrideSelectedLabelForRegion(this.open)}componentDidRender(){V(this)}render(){return d(M,{key:"812212005676701893065226cd3594995779c332"},d(B,{key:"5c2ddca0fa6198a055ea78b3039a8239973cc4a4",disabled:this.disabled},d("calcite-combobox",{key:"ab33d3ebd756d1841870b516a7d174f8f3d20f13",clearDisabled:!this.clearable,disabled:this.disabled,label:this.messages.chooseTimeZone,lang:this.effectiveLocale,maxItems:this.maxItems,onCalciteComboboxBeforeClose:this.onComboboxBeforeClose,onCalciteComboboxBeforeOpen:this.onComboboxBeforeOpen,onCalciteComboboxChange:this.onComboboxChange,onCalciteComboboxClose:this.onComboboxClose,onCalciteComboboxOpen:this.onComboboxOpen,open:this.open,overlayPositioning:this.overlayPositioning,placeholder:this.mode==="name"?this.messages.namePlaceholder:this.mode==="offset"?this.messages.offsetPlaceholder:this.messages.regionPlaceholder,placeholderIcon:"search",readOnly:this.readOnly,ref:this.setComboboxRef,scale:this.scale,selectionMode:this.clearable?"single":"single-persist",status:this.status,"validation-icon":this.validationIcon,"validation-message":this.validationMessage},this.renderItems()),d(X,{key:"850e92f46d459fd7599183613151ab5d2b75ead6",component:this})))}renderItems(){return this.mode==="region"?this.renderRegionItems():this.timeZoneItems.map(e=>{const o=this.selectedTimeZoneItem===e,{label:s,value:l}=e;return d("calcite-combobox-item",{"data-value":l,key:s,selected:o,textLabel:s,value:`${e.filterValue}`})})}renderRegionItems(){return this.timeZoneItems.flatMap(({label:e,items:o})=>d("calcite-combobox-item-group",{key:e,label:I(this.messages,e)},o.map(s=>{const l=this.selectedTimeZoneItem===s,{label:r,value:u}=s;return d("calcite-combobox-item",{"data-value":u,description:I(this.messages,s.metadata.country),key:r,metadata:s.metadata,selected:l,textLabel:r,value:`${s.filterValue}`},d("span",{class:ie.offset,slot:"content-end"},s.metadata.offset))})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return be}},[17,"calcite-input-time-zone",{clearable:[516],disabled:[516],form:[513],maxItems:[514,"max-items"],messages:[1040],messageOverrides:[1040],mode:[513],offsetStyle:[513,"offset-style"],validationMessage:[1,"validation-message"],validationIcon:[520,"validation-icon"],validity:[1040],name:[513],open:[1540],overlayPositioning:[513,"overlay-positioning"],referenceDate:[1,"reference-date"],required:[516],scale:[513],status:[513],value:[1025],readOnly:[516,"read-only"],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}]);function O(){if(typeof customElements>"u")return;["calcite-input-time-zone","calcite-chip","calcite-combobox","calcite-combobox-item","calcite-combobox-item-group","calcite-icon","calcite-input-message"].forEach(e=>{switch(e){case"calcite-input-time-zone":customElements.get(e)||customElements.define(e,L);break;case"calcite-chip":customElements.get(e)||Y();break;case"calcite-combobox":customElements.get(e)||N();break;case"calcite-combobox-item":customElements.get(e)||ee();break;case"calcite-combobox-item-group":customElements.get(e)||te();break;case"calcite-icon":customElements.get(e)||oe();break;case"calcite-input-message":customElements.get(e)||se();break}})}O();const He=L,We=O;export{He as CalciteInputTimeZone,We as defineCustomElement};

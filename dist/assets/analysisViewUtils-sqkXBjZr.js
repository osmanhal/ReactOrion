import{iL as s,f0 as c,gK as v,gA as r,ba as u,d3 as w}from"./index-BfC8i6jT.js";function m(t,a){t.interactive=!0;const{tool:i,view:e}=t;e.activeTool=i;let n=s(a,()=>{e.activeTool===i&&(e.activeTool=null)});return c(async o=>{await v(()=>i==null||!i.active,o),n=r(n)},a)}function y(t,a){return u(()=>t.interactive,()=>f(t,a),w)}function f(t,a){t.interactive?d(t,a):l(t)}function d(t,a){l(t);const{view:i,analysis:e}=t,n=new a({view:i,analysis:e,analysisViewData:t});return t.tool=n,i.tools.add(n),n}function l(t){const{view:a,tool:i}=t;i!=null&&(a.tools.remove(i),t.tool=null)}export{y as a,m as l,l as v};

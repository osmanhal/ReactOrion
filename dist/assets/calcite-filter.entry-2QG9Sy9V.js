import{b as r,l as o,d as s,e as l,D as c}from"./index-BfC8i6jT.js";import{f as a}from"./filter-7bf2ff32-xRM77gSV.js";import{c as d,u as h,d as f,I as u}from"./interactive-7dc921d0-C6HJbVA3.js";import{s as p,a as m,c as b}from"./loadable-907717a5-DAXV1ZHU.js";import{c as g,d as v}from"./locale-4ce3c6b2-fiHvNr9A.js";import{u as y,s as x,c as C,d as D}from"./t9n-249fa143-CE2fk3Zh.js";import{d as I}from"./debounce-87018c17-B7rtlCgz.js";import"./dom-0dfcce02-D_EjFIg7.js";import"./guid-c5ea645c-C-axntQX.js";import"./key-6b945008-DuBxtzvS.js";import"./observers-aea7721f-C3bX3_Ot.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const k={container:"container",searchIcon:"search-icon"},w={search:"search",close:"x"},z=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}",F=z,H=class{constructor(t){r(this,t),this.calciteFilterChange=o(this,"calciteFilterChange",6),this.filterDebounced=I((e,i=!1,n)=>this.items.length&&this.updateFiltered(a(this.items,e,this.filterProps),i,n),c.filter),this.inputHandler=e=>{const i=e.target;this.value=i.value,this.filterDebounced(i.value,!0)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.filterProps=void 0,this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(t){this.filterDebounced(t)}effectiveLocaleChange(){y(this,this.effectiveLocale)}async componentWillLoad(){p(this),this.items.length&&this.updateFiltered(a(this.items,this.value,this.filterProps)),await x(this)}connectedCallback(){d(this),g(this),C(this)}componentDidRender(){h(this)}disconnectedCallback(){f(this),v(this),D(this),this.filterDebounced.cancel()}componentDidLoad(){m(this)}async filter(t=this.value){return new Promise(e=>{this.value=t,this.filterDebounced(t,!1,e)})}async setFocus(){var t;return await b(this),(t=this.textInput)==null?void 0:t.setFocus()}updateFiltered(t,e=!1,i){this.filteredItems=t,e&&this.calciteFilterChange.emit(),i==null||i()}render(){const{disabled:t,scale:e}=this;return s(u,{key:"da4ff667fdb02ae8b85c56cd717b416f3256145d",disabled:t},s("div",{key:"f4406a403101afa7c97da11f8408fa464aa8a08c",class:k.container},s("label",{key:"aace74138ebea71058044e05d4fe44cb7ee6beb2"},s("calcite-input",{key:"cc7dca3364cc73bf42a78d76155477af98d72552",clearable:!0,disabled:t,icon:w.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:i=>{this.textInput=i},scale:e,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return l(this)}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}};H.style=F;export{H as calcite_filter};

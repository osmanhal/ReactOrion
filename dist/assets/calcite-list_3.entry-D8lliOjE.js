import{b as D,l as u,d as s,e as A,H as B,i as te}from"./index-BfC8i6jT.js";import{b,t as k,G as T,g as ne}from"./dom-0dfcce02-D_EjFIg7.js";import{c as F,u as w,d as P,I as O}from"./interactive-7dc921d0-C6HJbVA3.js";import{c as ie}from"./observers-aea7721f-C3bX3_Ot.js";import{d as se,c as ae}from"./sortableComponent-927f5f15-C92mCYMo.js";import{S as M}from"./resources-702133f3-BTZPtq89.js";import{s as N,a as G,c as U}from"./loadable-907717a5-DAXV1ZHU.js";import{c as _,s as K,d as $,u as q}from"./t9n-249fa143-CE2fk3Zh.js";import{c as j,d as W,n as H}from"./locale-4ce3c6b2-fiHvNr9A.js";import{d as le}from"./debounce-87018c17-B7rtlCgz.js";import"./guid-c5ea645c-C-axntQX.js";import"./key-6b945008-DuBxtzvS.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const d={wrapper:"wrapper",wrapperBordered:"wrapper--bordered",container:"container",containerHover:"container--hover",containerBorder:"container--border",containerBorderSelected:"container--border-selected",containerBorderUnselected:"container--border-unselected",contentContainer:"content-container",contentContainerSelectable:"content-container--selectable",contentContainerHasCenterContent:"content-container--has-center-content",nestedContainer:"nested-container",nestedContainerOpen:"nested-container--open",content:"content",customContent:"custom-content",actionsStart:"actions-start",contentStart:"content-start",label:"label",description:"description",contentEnd:"content-end",contentBottom:"content-bottom",actionsEnd:"actions-end",selectionContainer:"selection-container",selectionContainerSingle:"selection-container--single",openContainer:"open-container",dragContainer:"drag-container",close:"close"},S={actionsStart:"actions-start",contentStart:"content-start",content:"content",contentBottom:"content-bottom",contentEnd:"content-end",actionsEnd:"actions-end"},X=0,C={selectedMultiple:"check-square-f",selectedSingle:"bullet-point-large",unselectedMultiple:"square",unselectedSingle:"bullet-point-large",closedLTR:"chevron-right",closedRTL:"chevron-left",open:"chevron-down",blank:"blank",close:"x"},z="data-test-active",Y="calcite-list",oe="calcite-list-item-group",y="calcite-list-item";function ce(t){return Array.from(t.assignedElements({flatten:!0}).filter(e=>e.matches(Y)))}function J(t){const e=t.assignedElements({flatten:!0}),n=e.filter(a=>a==null?void 0:a.matches(oe)).map(a=>Array.from(a.querySelectorAll(y))).reduce((a,l)=>[...a,...l],[]),i=e.filter(a=>a==null?void 0:a.matches(y));return[...e.filter(a=>a==null?void 0:a.matches(Y)).map(a=>Array.from(a.querySelectorAll(y))).reduce((a,l)=>[...a,...l],[]),...n,...i]}function Q(t){t.forEach(e=>{e.setPosition=t.indexOf(e)+1,e.setSize=t.length})}function re(t,e=!1){if(!te())return 0;const n=e?"ancestor::calcite-list-item | ancestor::calcite-list-item-group":"ancestor::calcite-list-item";return document.evaluate(n,t,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength}const I={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},de=0,E={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},he=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-color-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",fe=he,v="calcite-list-item",ue="calcite-list-item-group, calcite-list-item",pe=class{constructor(t){D(this,t),this.calciteListChange=u(this,"calciteListChange",6),this.calciteListDragEnd=u(this,"calciteListDragEnd",6),this.calciteListDragStart=u(this,"calciteListDragStart",6),this.calciteListFilter=u(this,"calciteListFilter",6),this.calciteListOrderChange=u(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=u(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector=v,this.focusableItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=ie("mutation",()=>this.updateListItems()),this.visibleItems=[],this.handleDefaultSlotChange=e=>{Q(J(e.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=e=>{this.hasFilterActionsStart=b(e)},this.handleFilterActionsEndSlotChange=e=>{this.hasFilterActionsEnd=b(e)},this.handleFilterNoResultsSlotChange=e=>{this.hasFilterNoResults=b(e)},this.setActiveListItem=()=>{const{focusableItems:e}=this;e.some(n=>n.active)||e[0]&&(e[0].active=!0)},this.updateSelectedItems=(e=!1)=>{this.selectedItems=this.visibleItems.filter(n=>n.selected),e&&this.calciteListChange.emit()},this.borderItems=()=>{const e=this.visibleItems.filter(n=>!n.filterHidden&&this.allParentListItemsOpen(n));e.forEach(n=>n.bordered=n!==e[e.length-1])},this.updateFilteredItems=(e=!1)=>{const{visibleItems:n,filteredData:i,filterText:o}=this,a=i.map(r=>r.value),l=n==null?void 0:n.filter(r=>n.every(h=>h===r||!r.contains(h))),c=n.filter(r=>!o||a.includes(r.value))||[],g=new WeakSet;l.forEach(r=>this.filterElements({el:r,filteredItems:c,visibleParents:g})),this.filteredItems=c,e&&this.calciteListFilter.emit()},this.setFilterEl=e=>{this.filterEl=e,this.performFilter()},this.handleFilterChange=e=>{e.stopPropagation();const{value:n}=e.currentTarget;this.filterText=n,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})),this.updateListItems=le((e=!1)=>{const{selectionAppearance:n,selectionMode:i,dragEnabled:o,el:a}=this,l=Array.from(this.el.querySelectorAll(v));if(l.forEach(c=>{c.selectionAppearance=n,c.selectionMode=i,c.closest("calcite-list")===a&&(c.dragHandle=o)}),this.parentListEl){this.setUpSorting();return}this.listItems=l,this.filterEnabled&&(this.dataForFilter=this.getItemData(),this.filterEl&&(this.filterEl.items=this.dataForFilter)),this.visibleItems=this.listItems.filter(c=>!c.closed&&!c.hidden),this.updateFilteredItems(e),this.borderItems(),this.focusableItems=this.filteredItems.filter(c=>!c.disabled),this.setActiveListItem(),this.updateSelectedItems(e),this.setUpSorting()},de),this.focusRow=e=>{const{focusableItems:n}=this;e&&(n.forEach(i=>i.active=i===e),e.setFocus())},this.isNavigable=e=>{var i;const n=(i=e.parentElement)==null?void 0:i.closest(v);return n?n.open&&this.isNavigable(n):!0},this.handleListKeydown=e=>{var a;if(e.defaultPrevented||this.parentListEl)return;const{key:n}=e,i=this.focusableItems.filter(l=>this.isNavigable(l)),o=i.findIndex(l=>l.active);if(n==="ArrowDown"){e.preventDefault();const l=e.target===this.filterEl?0:o+1;i[l]&&this.focusRow(i[l])}else if(n==="ArrowUp"){if(e.preventDefault(),o===0&&this.filterEnabled){(a=this.filterEl)==null||a.setFocus();return}const l=o-1;i[l]&&this.focusRow(i[l])}else if(n==="Home"){e.preventDefault();const l=i[0];l&&this.focusRow(l)}else if(n==="End"){e.preventDefault();const l=i[i.length-1];l&&this.focusRow(l)}},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.filterProps=void 0,this.messageOverrides=void 0,this.messages=void 0,this.numberingSystem=void 0,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.effectiveLocale="",this.defaultMessages=void 0,this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1}async handleFilterTextChange(){this.performFilter()}async handlefilterPropsChange(){this.performFilter()}onMessagesChange(){}handleListItemChange(){this.updateListItems()}handleCalciteListItemToggle(t){this.parentListEl||(t.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(t){if(this.parentListEl)return;t.stopPropagation();const{focusableItems:e}=this,i=e.findIndex(o=>o.active)-1;e[i]&&this.focusRow(e[i])}handleCalciteInternalListItemActive(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n}=this;n.forEach(i=>{i.active=i===e})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(t){this.assistiveText=t.detail.message,t.stopPropagation()}handleCalciteHandleNudge(t){this.parentListEl||this.handleNudgeEvent(t)}handleCalciteInternalListItemSelect(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n,selectionMode:i}=this;e.selected&&(i==="single"||i==="single-persist")&&n.forEach(o=>o.selected=o===e),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(t){if(this.parentListEl)return;t.stopPropagation();const{target:e,detail:n}=t,{focusableItems:i,lastSelectedInfo:o}=this,a=e;if(n.selectMultiple&&o){const l=i.indexOf(a),c=i.indexOf(o.selectedItem),g=Math.min(c,l),r=Math.max(c,l);i.slice(g,r+1).forEach(h=>h.selected=o.selected)}else this.lastSelectedInfo={selectedItem:a,selected:a.selected}}handleCalciteInternalListItemChange(t){this.parentListEl||(t.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(t){t.stopPropagation()}connectedCallback(){j(this),_(this),this.connectObserver(),this.updateListItems(),this.setUpSorting(),F(this),this.setParentList()}async componentWillLoad(){N(this),await K(this)}componentDidRender(){w(this)}componentDidLoad(){G(this)}disconnectedCallback(){this.disconnectObserver(),se(this),P(this),W(this),$(this)}effectiveLocaleChange(){q(this,this.effectiveLocale)}async setFocus(){var t,e;return await U(this),this.filterEnabled?(t=this.filterEl)==null?void 0:t.setFocus():(e=this.focusableItems.find(n=>n.active))==null?void 0:e.setFocus()}render(){const{loading:t,label:e,disabled:n,dataForFilter:i,filterEnabled:o,filterPlaceholder:a,filterText:l,filteredItems:c,hasFilterActionsStart:g,hasFilterActionsEnd:r,hasFilterNoResults:h,filterProps:f}=this;return s(O,{key:"84991009060a8b97b9901ca97f32b32fa6e830fa",disabled:this.disabled},s("div",{key:"27f5a904be599be5768bb1a7693111573e745e0f",class:I.container},this.dragEnabled?s("span",{"aria-live":"assertive",class:I.assistiveText},this.assistiveText):null,this.renderItemAriaLive(),t?s("calcite-scrim",{class:I.scrim,loading:t}):null,s("table",{key:"dd343a43f26edcb50f87a064a41471756a94afeb","aria-busy":k(t),"aria-label":e||"",class:I.table,onKeyDown:this.handleListKeydown,role:"treegrid"},o||g||r?s("thead",{class:I.sticky},s("tr",null,s("th",{colSpan:X},s("calcite-stack",{class:I.stack},s("slot",{name:E.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:M.actionsStart}),s("calcite-filter",{"aria-label":a,disabled:n,filterProps:f,items:i,onCalciteFilterChange:this.handleFilterChange,placeholder:a,ref:this.setFilterEl,value:l}),s("slot",{name:E.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:M.actionsEnd}))))):null,s("tbody",{key:"90a288eea3e02d5261e369e14b687852c1ff876b",class:I.tableContainer},s("slot",{key:"08992c3c5ad4d5afe86e7e1cd38327c5f4281bd1",onSlotchange:this.handleDefaultSlotChange}))),s("div",{key:"689185b56a2990e00a409ddbc4e4c135115791d3","aria-live":"polite","data-test-id":"no-results-container",hidden:!(h&&o&&l&&!c.length)},s("slot",{key:"929ef7f843f5c8e7290a3cbcebea8c5c4cf38707",name:E.filterNoResults,onSlotchange:this.handleFilterNoResultsSlotChange}))))}renderItemAriaLive(){const{messages:t,filteredItems:e,parentListEl:n,effectiveLocale:i,numberingSystem:o,filterEnabled:a,filterText:l,filteredData:c}=this;return H.numberFormatOptions={locale:i,numberingSystem:o},n?null:s("div",{"aria-live":"polite",class:I.assistiveText},a&&l&&(c!=null&&c.length)?s("div",{key:"aria-filter-enabled"},t.filterEnabled):null,s("div",{key:"aria-item-count"},t.total.replace("{count}",H.localize(e.length.toString()))),e.length?s("ol",{key:"aria-item-list"},e.map(g=>s("li",null,g.label))):null)}connectObserver(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){var t;(t=this.mutationObserver)==null||t.disconnect()}setUpSorting(){const{dragEnabled:t}=this;t&&ae(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(t){this.calciteListDragEnd.emit(t)}onDragStart(t){this.calciteListDragStart.emit(t)}onDragSort(t){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(t)}setParentList(){var t;this.parentListEl=(t=this.el.parentElement)==null?void 0:t.closest("calcite-list")}filterElements({el:t,filteredItems:e,visibleParents:n}){const i=!n.has(t)&&!e.includes(t);t.filterHidden=i;const o=t.parentElement.closest(ue);o&&(i||n.add(o),this.filterElements({el:o,filteredItems:e,visibleParents:n}))}allParentListItemsOpen(t){var n;const e=(n=t.parentElement)==null?void 0:n.closest(v);if(e){if(!e.open)return!1}else return!0;return this.allParentListItemsOpen(e)}updateFilteredData(t=!1){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItems(t))}async performFilter(){const{filterEl:t,filterText:e,filterProps:n}=this;t&&(t.value=e,t.filterProps=n,await t.filter(e),this.updateFilteredData())}handleNudgeEvent(t){const{handleSelector:e,dragSelector:n}=this,{direction:i}=t.detail,o=t.composedPath(),a=o.find(p=>(p==null?void 0:p.tagName)&&p.matches(e)),l=o.find(p=>(p==null?void 0:p.tagName)&&p.matches(n)),c=l==null?void 0:l.parentElement;if(!c)return;const{filteredItems:g}=this,r=g.filter(p=>p.parentElement===c),h=r.length-1,f=r.indexOf(l);let m;i==="up"?m=f===0?h:f-1:m=f===h?0:f+1,this.disconnectObserver(),a.blurUnselectDisabled=!0;const L=i==="up"&&m!==h||i==="down"&&m===0?r[m]:r[m].nextSibling;c.insertBefore(l,L),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:l,fromEl:c,toEl:c,newIndex:m,oldIndex:f}),a.setFocus().then(()=>a.blurUnselectDisabled=!1)}static get assetsDirs(){return["assets"]}get el(){return A(this)}static get watchers(){return{filterText:["handleFilterTextChange"],filterProps:["handlefilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}}};pe.style=fe;const ge=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;background-color:var(--calcite-color-foreground-1);--calcite-list-item-icon-color:var(--calcite-color-brand)}:host([filter-hidden]),:host([closed]){display:none}.wrapper--bordered{border-block-end:1px solid var(--calcite-color-border-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{box-sizing:border-box;display:flex;flex:1 1 0%;overflow:hidden;background-color:var(--calcite-color-foreground-1)}.container *{box-sizing:border-box}.container--hover:hover{cursor:pointer;background-color:var(--calcite-color-foreground-2)}.container:active{background-color:var(--calcite-color-foreground-1)}.container--border{border-inline-start-width:4px;border-inline-start-style:solid}.container--border-selected{border-inline-start-color:var(--calcite-color-brand)}.container--border-unselected{border-inline-start-color:transparent}.container:hover.container--border-unselected{border-color:var(--calcite-color-border-1)}.nested-container{display:none;flex-direction:column;border-width:0px;border-style:solid;border-color:var(--calcite-color-border-3);margin-inline-start:var(--calcite-list-item-spacing-indent, 1.5rem)}.nested-container--open{display:flex}.content-container{display:flex;flex:1 1 auto;-webkit-user-select:none;user-select:none;align-items:stretch;padding:0px;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}tr,td{outline-color:transparent}tr{position:relative}tr:focus,td:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description,.content-bottom{font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child,.content-bottom:only-child{margin:0px;padding-block:0.25rem}.label{color:var(--calcite-color-text-1)}:host([selected]) .label{font-weight:var(--calcite-font-weight-medium)}.description{margin-block-start:0.125rem;color:var(--calcite-color-text-3)}:host([selected]) .description{color:var(--calcite-color-text-2)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.content-bottom{display:flex;flex-direction:column}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.selection-container{display:flex;padding-inline:0.75rem;padding-block:0px;color:var(--calcite-color-border-input)}.selection-container--single{color:transparent}:host(:not([disabled]):not([selected])) .container:hover .selection-container--single{color:var(--calcite-color-border-1)}:host([selected]:hover) .selection-container,:host([selected]:hover) .selection-container--single,:host([selected]) .selection-container{color:var(--calcite-list-item-icon-color)}.open-container{color:var(--calcite-color-text-3)}:host(:not([disabled])) .container:hover .open-container{color:var(--calcite-color-text-1)}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.drag-container,.open-container{display:flex;align-items:center}.actions-start calcite-action,.actions-start calcite-handle,.actions-end calcite-action,.actions-end calcite-handle,.content-start calcite-action,.content-start calcite-handle,.content-end calcite-action,.content-end calcite-handle,.selection-container calcite-action,.selection-container calcite-handle,.drag-container calcite-action,.drag-container calcite-handle,.open-container calcite-action,.open-container calcite-handle{align-self:stretch}.open-container,.selection-container{cursor:pointer}.actions-start,.actions-end{position:relative;padding:0px}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}tr:focus .actions-start,tr:focus .actions-end{inset-block:0.125rem}tr:focus .actions-start .close,tr:focus .actions-start ::slotted(calcite-action),tr:focus .actions-start ::slotted(calcite-action-menu),tr:focus .actions-start ::slotted(calcite-handle),tr:focus .actions-start ::slotted(calcite-dropdown),tr:focus .actions-end .close,tr:focus .actions-end ::slotted(calcite-action),tr:focus .actions-end ::slotted(calcite-action-menu),tr:focus .actions-end ::slotted(calcite-handle),tr:focus .actions-end ::slotted(calcite-dropdown){block-size:calc(100% - 0.25rem)}tr:focus::after,tr:focus::before{position:absolute;content:"";inline-size:0.125rem;z-index:var(--calcite-z-index-header);background-color:var(--calcite-color-brand);inset-block:0}tr:focus::before{inset-inline-start:0}tr:focus::after{inset-inline-end:0}.container--border:focus::before{display:none}::slotted(calcite-list:empty){border-block-start-width:0px}:host([hidden]){display:none}[hidden]{display:none}`,me=ge,x=new Map,be="calcite-list",Ce=class{constructor(t){D(this,t),this.calciteListItemSelect=u(this,"calciteListItemSelect",6),this.calciteListItemClose=u(this,"calciteListItemClose",6),this.calciteListItemDragHandleChange=u(this,"calciteListItemDragHandleChange",6),this.calciteListItemToggle=u(this,"calciteListItemToggle",6),this.calciteInternalListItemSelect=u(this,"calciteInternalListItemSelect",6),this.calciteInternalListItemSelectMultiple=u(this,"calciteInternalListItemSelectMultiple",6),this.calciteInternalListItemActive=u(this,"calciteInternalListItemActive",6),this.calciteInternalFocusPreviousItem=u(this,"calciteInternalFocusPreviousItem",6),this.calciteInternalListItemChange=u(this,"calciteInternalListItemChange",6),this.calciteInternalListItemToggle=u(this,"calciteInternalListItemToggle",6),this.dragHandleSelectedChangeHandler=e=>{this.dragSelected=e.target.selected,this.calciteListItemDragHandleChange.emit(),e.stopPropagation()},this.emitInternalListItemActive=()=>{this.calciteInternalListItemActive.emit()},this.focusCellHandle=()=>{this.handleCellFocusIn(this.handleGridEl)},this.focusCellActionsStart=()=>{this.handleCellFocusIn(this.actionsStartEl)},this.focusCellContent=()=>{this.handleCellFocusIn(this.contentEl)},this.focusCellActionsEnd=()=>{this.handleCellFocusIn(this.actionsEndEl)},this.handleCloseClick=()=>{this.closed=!0,this.calciteListItemClose.emit()},this.handleContentSlotChange=e=>{this.hasCustomContent=b(e)},this.handleActionsStartSlotChange=e=>{this.hasActionsStart=b(e)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=b(e)},this.handleContentStartSlotChange=e=>{this.hasContentStart=b(e)},this.handleContentEndSlotChange=e=>{this.hasContentEnd=b(e)},this.handleContentBottomSlotChange=e=>{this.hasContentBottom=b(e)},this.handleDefaultSlotChange=e=>{this.handleOpenableChange(e.target)},this.handleToggleClick=()=>{this.toggle()},this.toggle=(e=!this.open)=>{this.open=e,this.calciteListItemToggle.emit()},this.handleItemClick=e=>{e.defaultPrevented||this.toggleSelected(e.shiftKey)},this.toggleSelected=e=>{const{selectionMode:n,selected:i}=this;this.disabled||(n==="multiple"||n==="single"?this.selected=!i:n==="single-persist"&&(this.selected=!0),this.calciteInternalListItemSelectMultiple.emit({selectMultiple:e&&n==="multiple"}),this.calciteListItemSelect.emit())},this.handleItemKeyDown=e=>{if(e.defaultPrevented)return;const{key:n}=e,i=e.composedPath(),{containerEl:o,actionsStartEl:a,actionsEndEl:l,open:c,openable:g}=this,r=this.getGridCells(),h=r.findIndex(f=>i.includes(f));if(n==="Enter"&&!i.includes(a)&&!i.includes(l))e.preventDefault(),this.toggleSelected(e.shiftKey);else if(n==="ArrowRight"){e.preventDefault();const f=h+1;h===-1?!c&&g?(this.toggle(!0),this.focusCell(null)):r[0]&&this.focusCell(r[0]):r[h]&&r[f]&&this.focusCell(r[f])}else if(n==="ArrowLeft"){e.preventDefault();const f=h-1;h===-1?(this.focusCell(null),c&&g?this.toggle(!1):this.calciteInternalFocusPreviousItem.emit()):h===0?(this.focusCell(null),o.focus()):r[h]&&r[f]&&this.focusCell(r[f])}},this.focusCellNull=()=>{this.focusCell(null)},this.handleCellFocusIn=e=>{this.setFocusCell(e,T(e),!0)},this.setFocusCell=(e,n,i)=>{const{parentListEl:o}=this;i&&x.set(o,null);const a=this.getGridCells();a.forEach(l=>{l.tabIndex=-1,l.removeAttribute(z)}),e&&(e.tabIndex=e===n?0:-1,e.setAttribute(z,""),i&&x.set(o,a.indexOf(e)))},this.focusCell=(e,n=!0)=>{const i=T(e);this.setFocusCell(e,i,n),i==null||i.focus()},this.active=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.description=void 0,this.disabled=!1,this.dragDisabled=!1,this.dragHandle=!1,this.dragSelected=!1,this.filterHidden=!1,this.label=void 0,this.metadata=void 0,this.open=!1,this.setSize=null,this.setPosition=null,this.selected=!1,this.value=void 0,this.selectionMode=null,this.selectionAppearance=null,this.messageOverrides=void 0,this.messages=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.level=null,this.parentListEl=void 0,this.openable=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasCustomContent=!1,this.hasContentStart=!1,this.hasContentEnd=!1,this.hasContentBottom=!1}activeHandler(t){t||this.focusCell(null,!1)}handleClosedChange(){this.emitCalciteInternalListItemChange()}handleDisabledChange(){this.emitCalciteInternalListItemChange()}handleOpenChange(){this.emitCalciteInternalListItemToggle()}handleSelectedChange(){this.calciteInternalListItemSelect.emit()}onMessagesChange(){}handleCalciteInternalListDefaultSlotChanges(t){t.stopPropagation(),this.handleOpenableChange(this.defaultSlotEl)}effectiveLocaleChange(){q(this,this.effectiveLocale)}connectedCallback(){F(this),j(this),_(this);const{el:t}=this;this.parentListEl=t.closest(be),this.level=re(t)+1,this.setSelectionDefaults()}async componentWillLoad(){N(this),await K(this)}componentDidLoad(){G(this)}componentDidRender(){w(this)}disconnectedCallback(){P(this),W(this),$(this)}async setFocus(){await U(this);const{containerEl:t,parentListEl:e}=this,n=x.get(e);if(typeof n=="number"){const i=this.getGridCells();i[n]?this.focusCell(i[n]):t==null||t.focus();return}t==null||t.focus()}renderSelected(){const{selected:t,selectionMode:e,selectionAppearance:n}=this;return e==="none"||n==="border"?null:s("td",{class:{[d.selectionContainer]:!0,[d.selectionContainerSingle]:e==="single"||e==="single-persist"},key:"selection-container",onClick:this.handleItemClick},s("calcite-icon",{icon:t?e==="multiple"?C.selectedMultiple:C.selectedSingle:e==="multiple"?C.unselectedMultiple:C.unselectedSingle,scale:"s"}))}renderDragHandle(){const{label:t,dragHandle:e,dragSelected:n,dragDisabled:i,setPosition:o,setSize:a}=this;return e?s("td",{"aria-label":t,class:d.dragContainer,key:"drag-handle-container",onFocusin:this.focusCellHandle,ref:l=>this.handleGridEl=l,role:"gridcell"},s("calcite-handle",{disabled:i,label:t,onCalciteHandleChange:this.dragHandleSelectedChangeHandler,selected:n,setPosition:o,setSize:a})):null}renderOpen(){const{el:t,open:e,openable:n,messages:i}=this,o=ne(t),a=e?C.open:o==="rtl"?C.closedRTL:C.closedLTR,l=e?i.collapse:i.expand;return n?s("td",{class:d.openContainer,key:"open-container",onClick:this.handleToggleClick,title:l},s("calcite-icon",{icon:a,key:a,scale:"s"})):null}renderActionsStart(){const{label:t,hasActionsStart:e}=this;return s("td",{"aria-label":t,class:d.actionsStart,hidden:!e,key:"actions-start-container",onFocusin:this.focusCellActionsStart,ref:n=>this.actionsStartEl=n,role:"gridcell"},s("slot",{name:S.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{label:t,hasActionsEnd:e,closable:n,messages:i}=this;return s("td",{"aria-label":t,class:d.actionsEnd,hidden:!(e||n),key:"actions-end-container",onFocusin:this.focusCellActionsEnd,ref:o=>this.actionsEndEl=o,role:"gridcell"},s("slot",{name:S.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}),n?s("calcite-action",{appearance:"transparent",class:d.close,icon:C.close,key:"close-action",label:i.close,onClick:this.handleCloseClick,text:i.close}):null)}renderContentStart(){const{hasContentStart:t}=this;return s("div",{class:d.contentStart,hidden:!t},s("slot",{name:S.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderCustomContent(){const{hasCustomContent:t}=this;return s("div",{class:d.customContent,hidden:!t},s("slot",{name:S.content,onSlotchange:this.handleContentSlotChange}))}renderContentEnd(){const{hasContentEnd:t}=this;return s("div",{class:d.contentEnd,hidden:!t},s("slot",{name:S.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}renderContentBottom(){const{hasContentBottom:t}=this;return s("div",{class:d.contentBottom,hidden:!t},s("slot",{name:S.contentBottom,onSlotchange:this.handleContentBottomSlotChange}))}renderDefaultContainer(){return s("div",{class:{[d.nestedContainer]:!0,[d.nestedContainerOpen]:this.openable&&this.open}},s("slot",{onSlotchange:this.handleDefaultSlotChange,ref:t=>this.defaultSlotEl=t}))}renderContentProperties(){const{label:t,description:e,hasCustomContent:n}=this;return!n&&(t||e)?s("div",{class:d.content,key:"content"},t?s("div",{class:d.label,key:"label"},t):null,e?s("div",{class:d.description,key:"description"},e):null):null}renderContentContainer(){const{description:t,label:e,selectionMode:n,hasCustomContent:i}=this,o=i||!!e||!!t,a=[this.renderContentStart(),this.renderCustomContent(),this.renderContentProperties(),this.renderContentEnd()];return s("td",{"aria-label":e,class:{[d.contentContainer]:!0,[d.contentContainerSelectable]:n!=="none",[d.contentContainerHasCenterContent]:o},key:"content-container",onClick:this.handleItemClick,onFocusin:this.focusCellContent,ref:l=>this.contentEl=l,role:"gridcell"},a)}render(){const{openable:t,open:e,level:n,setPosition:i,setSize:o,active:a,label:l,selected:c,selectionAppearance:g,selectionMode:r,closed:h,filterHidden:f,bordered:m,disabled:L}=this,p=r!=="none"&&g==="border",V=p&&c,Z=p&&!c;return s(B,{key:"e5c6ac9b3b611040a89e45804935c9c6e0edce2d"},s(O,{key:"352c056d23f70ef0c5596e9bc447c57dad7523c9",disabled:L},s("div",{key:"c19950786e18433c5197309442118d72806698a9",class:{[d.wrapper]:!0,[d.wrapperBordered]:m}},s("tr",{key:"a77a11612d4b15afdfe0146c2808312de96756bc","aria-expanded":t?k(e):null,"aria-label":l,"aria-level":n,"aria-posinset":i,"aria-selected":k(c),"aria-setsize":o,class:{[d.container]:!0,[d.containerHover]:!0,[d.containerBorder]:p,[d.containerBorderSelected]:V,[d.containerBorderUnselected]:Z},hidden:h||f,onFocus:this.focusCellNull,onFocusin:this.emitInternalListItemActive,onKeyDown:this.handleItemKeyDown,ref:ee=>this.containerEl=ee,role:"row",tabIndex:a?0:-1},this.renderDragHandle(),this.renderSelected(),this.renderOpen(),this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),this.renderContentBottom()),this.renderDefaultContainer()))}emitCalciteInternalListItemToggle(){this.calciteInternalListItemToggle.emit()}emitCalciteInternalListItemChange(){this.calciteInternalListItemChange.emit()}setSelectionDefaults(){const{parentListEl:t,selectionMode:e,selectionAppearance:n}=this;t&&(e||(this.selectionMode=t.selectionMode),n||(this.selectionAppearance=t.selectionAppearance))}handleOpenableChange(t){if(!t)return;const e=J(t),n=ce(t);Q(e),this.openable=!!e.length||!!n.length}getGridCells(){return[this.handleGridEl,this.actionsStartEl,this.contentEl,this.actionsEndEl].filter(t=>t&&!t.hidden)}static get assetsDirs(){return["assets"]}get el(){return A(this)}static get watchers(){return{active:["activeHandler"],closed:["handleClosedChange"],disabled:["handleDisabledChange"],open:["handleOpenChange"],selected:["handleSelectedChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};Ce.style=me;const R={container:"container",heading:"heading"},Ie=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;background-color:var(--calcite-color-foreground-1)}:host([filter-hidden]){display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{margin:0px;display:flex;flex:1 1 0%;padding:0.75rem;font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2)}.heading{padding:0px}:host([hidden]){display:none}[hidden]{display:none}",Se=Ie,ve=class{constructor(t){D(this,t),this.calciteInternalListItemGroupDefaultSlotChange=u(this,"calciteInternalListItemGroupDefaultSlotChange",6),this.handleDefaultSlotChange=()=>{this.calciteInternalListItemGroupDefaultSlotChange.emit()},this.disabled=!1,this.filterHidden=!1,this.heading=void 0}connectedCallback(){F(this)}componentDidRender(){w(this)}disconnectedCallback(){P(this)}render(){const{disabled:t,heading:e}=this;return s(B,{key:"85b83e04247b94aa14924a0f835a1a998dea8a09"},s(O,{key:"d07a3dde8836dad2a905b4621fae3c6c2c3c3966",disabled:t},s("tr",{key:"e0371d077ffca503468e60ea4906391eed32ae85",class:R.container},s("td",{key:"41a9ea1a58f0cd4b6daabee4a4b628184aff0cae",class:R.heading,colSpan:X},e)),s("slot",{key:"74dbc9667e9ac7b420a4584b80add4692b143a14",onSlotchange:this.handleDefaultSlotChange})))}get el(){return A(this)}};ve.style=Se;export{pe as calcite_list,Ce as calcite_list_item,ve as calcite_list_item_group};
